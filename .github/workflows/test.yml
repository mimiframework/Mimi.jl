name: NEW MAIN CI

on:
  push:
    branches:
      - main
      - master
  pull_request:
    types: [opened, synchronize, reopened]
  workflow_dispatch:

jobs:
  julia-ci:
    uses: julia-vscode/testitem-workflow/.github/workflows/testitemci.yml@main
    with:
      include-linux-x86: false
      github_job_prep_script: test/github_job_prep.jl
      env: '{"DISPLAY": ":99", "PYTHON": ""}'
    secrets:
      codecov_token: ${{ secrets.CODECOV_TOKEN }}
